webpackJsonp([1],{AdUf:function(t,e){},CHtt:function(t,e){},NHnr:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("7+uW"),s=i("mtWM"),n=i.n(s),r={name:"Item",props:{image:String,title:String,id:Number,isFavorite:Boolean},methods:{openItemPage:function(t){this.$router.push({name:"movies",params:{itemId:""+t}})}}},o={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("a",{staticClass:"item",attrs:{href:"javascript:void(0)"},on:{click:function(e){t.openItemPage(t.id)}}},[i("div",{staticClass:"item__poster"},[t.image?i("img",{attrs:{src:"https://image.tmdb.org/t/p/w500/"+t.image,alt:t.title}}):t._e(),t._v(" "),t.image?t._e():i("img",{attrs:{src:"/static/no-image.jpg",alt:t.title}}),t._v(" "),t.isFavorite?i("span",{staticClass:"item__favorite"},[i("i",{staticClass:"star"})]):t._e()]),t._v(" "),i("div",{staticClass:"item__title"},[t._v("\n    "+t._s(t.title)+"\n  ")])])},staticRenderFns:[]};var l=i("VU/8")(r,o,!1,function(t){i("kRLI")},null,null).exports,c=i("mvHQ"),d=i.n(c),m={list:[],addFilm:function(t){this.list.push(t),localStorage.setItem("filmsList",d()({list:this.list}))},removeFilm:function(t){this.list=this.list.filter(function(e){return t!==e.id}),localStorage.setItem("filmsList",d()({list:this.list}))}},v=JSON.parse(localStorage.getItem("filmsList"));v?m.list=v.list:localStorage.setItem("filmsList",d()({list:this.list}));var u="5fc1fc09c4439e9e384f1dce452ba65c",_={name:"Header",components:{Item:l},data:function(){return{searchString:"",searchMovies:[]}},methods:{search:function(t){var e=this;this.searchMovies=[],this.searchString=t.target.value,this.searchString&&n.a.get("https://api.themoviedb.org/3/search/movie?api_key="+u+"&query="+this.searchString+"&page=1&include_adult=false").then(function(t){e.searchMovies=t.data.results}).catch(function(t){console.log(t)})},clearSearch:function(){this.searchMovies=[],this.searchString=""}}},f={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("header",{staticClass:"header"},[i("div",{staticClass:"container"},[i("div",{staticClass:"header__inner"},[i("div",{staticClass:"header__logo"},[i("router-link",{staticClass:"logo",attrs:{to:{path:"/"}}},[t._v("logo")])],1),t._v(" "),i("div",{staticClass:"header__search"},[i("div",{staticClass:"search"},[i("input",{staticClass:"search__input",attrs:{type:"text"},domProps:{value:t.searchString},on:{input:t.search}}),t._v(" "),t.searchMovies.length?i("div",{staticClass:"search__results"},t._l(t.searchMovies,function(e){return i("div",{key:e.id,staticClass:"search__item"},[i("Item",{attrs:{image:e.poster_path,title:e.title,id:e.id},nativeOn:{click:function(e){t.clearSearch()}}})],1)})):t._e()])]),t._v(" "),i("div",{staticClass:"header__favorite"},[i("router-link",{attrs:{to:{path:"/favorite"}}},[t._v("favorite list")])],1)])])])},staticRenderFns:[]};var p=i("VU/8")(_,f,!1,function(t){i("ad9l")},null,null).exports,h={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("footer",{staticClass:"footer"},[e("div",{staticClass:"container"},[this._v("\n    Made by "),e("a",{attrs:{href:"https://www.linkedin.com/in/maksym-chupryna/",target:"_blank"}},[this._v("Maxym Chupryna")]),this._v(", 2018\n  ")])])}]};var g={name:"App",components:{Footer:i("VU/8")({name:"Footer"},h,!1,function(t){i("CHtt")},null,null).exports,Header:p}},C={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("Header"),this._v(" "),e("router-view",{key:this.$route.fullPath}),this._v(" "),e("Footer")],1)},staticRenderFns:[]};var b=i("VU/8")(g,C,!1,function(t){i("AdUf")},null,null).exports,k=i("/ocq"),F=i("kBYy"),I=i.n(F),x={name:"Hello",components:{Item:l,Paginate:I.a},data:function(){return{data:{},page:1,pages:0,favoriteList:[]}},methods:{loadPage:function(t){var e=this;n.a.get("https://api.themoviedb.org/3/movie/popular?api_key="+u+"&page="+t).then(function(t){e.data=t.data,e.favoriteList=e.data.results.map(function(t){return m.list.some(function(e){return e.id===t.id})})}).catch(function(t){console.log(t)}),window.scrollTo(0,0)},createPage:function(){var t=this;n.a.get("https://api.themoviedb.org/3/movie/popular?api_key="+u+"&page="+this.page).then(function(e){t.data=e.data,t.pages=e.data.total_pages,t.favoriteList=t.data.results.map(function(t){return m.list.some(function(e){return e.id===t.id})})}).catch(function(t){console.log(t)})}},mounted:function(){this.createPage()}},y={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"main content"},[i("div",{staticClass:"container"},[i("div",{staticClass:"films"},t._l(t.data.results,function(e,a){return i("div",{key:e.id,staticClass:"films__item"},[i("Item",{attrs:{image:e.poster_path,title:e.title,id:e.id,isFavorite:t.favoriteList[a]}})],1)})),t._v(" "),i("paginate",{attrs:{"page-count":t.pages,"page-range":3,"margin-pages":3,"click-handler":t.loadPage,"prev-text":"Prev","next-text":"Next","container-class":"pagination","page-class":"pagination__item"},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],1)])},staticRenderFns:[]};var P=i("VU/8")(x,y,!1,function(t){i("ZxGP")},null,null).exports,S=i("/kJX"),w={name:"ItemPage",components:{Item:l,Carousel:S.Carousel,Slide:S.Slide},data:function(){return{data:{},similarMovies:[],isFavorite:!1}},props:{itemId:String},methods:{addToFavoriteList:function(){var t=this;m.addFilm(this.data),this.isFavorite=m.list.some(function(e){return e.id===t.data.id})},removeFromFavoriteList:function(){var t=this;m.removeFilm(+this.itemId),this.isFavorite=m.list.some(function(e){return e.id===t.data.id})},openGenreList:function(t){this.$router.push({name:"genre",params:{genreId:""+t}})},createPage:function(){var t=this;n.a.get("https://api.themoviedb.org/3/movie/"+t.itemId+"?api_key="+u).then(function(e){t.data=e.data,t.isFavorite=m.list.some(function(e){return e.id===t.data.id})}).catch(function(t){console.log(t)}),n.a.get("https://api.themoviedb.org/3/movie/"+t.itemId+"/similar?api_key="+u+"&page=1").then(function(e){t.similarMovies=e.data.results}).catch(function(t){console.log(t)})}},mounted:function(){this.createPage()}},L={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"item-page film content"},[i("div",{staticClass:"container"},[i("div",{staticClass:"film__row"},[i("div",{staticClass:"film__col"},[i("div",{staticClass:"film__poster-container"},[i("div",{staticClass:"film__poster"},[i("img",{attrs:{src:"https://image.tmdb.org/t/p/w500/"+t.data.poster_path,alt:t.data.title}}),t._v(" "),t.isFavorite?i("span",{staticClass:"film__favorite"},[t._v("favorite")]):t._e()])])]),t._v(" "),i("div",{staticClass:"film__col"},[i("div",{staticClass:"film__info"},[i("div",{staticClass:"film__info-item"},[i("b",[t._v("Title:")]),t._v(" "+t._s(t.data.title))]),t._v(" "),i("div",{staticClass:"film__info-item"},[i("b",[t._v("Date:")]),t._v(" "+t._s(t.data.release_date))]),t._v(" "),i("div",{staticClass:"film__info-item"},[i("b",[t._v("Rate:")]),t._v(" "+t._s(t.data.vote_average))]),t._v(" "),i("div",{staticClass:"film__info-item"},[i("b",[t._v("Genres:")]),t._v(" "),t._l(t.data.genres,function(e){return i("a",{key:e.id,staticClass:"film__genre",attrs:{href:"javascript:void(0)"},on:{click:function(i){t.openGenreList(e.id)}}},[t._v("\n              "+t._s(e.name)+"\n            ")])})],2),t._v(" "),i("div",{staticClass:"film__info-item"},[i("b",[t._v("Budget:")]),t._v(" "+t._s(t.data.budget)+"$")]),t._v(" "),i("div",{staticClass:"film__info-item"},[i("b",[t._v("Language:")]),t._v(" "+t._s(t.data.original_language))]),t._v(" "),i("div",{staticClass:"film__info-item"},[i("b",[t._v("Overview:")]),t._v(" "+t._s(t.data.overview))])]),t._v(" "),i("div",{staticClass:"film__btn"},[t.isFavorite?i("button",{staticClass:"remove",on:{click:function(e){t.removeFromFavoriteList()}}},[t._v("\n            remove from favorite\n          ")]):i("button",{on:{click:function(e){t.addToFavoriteList()}}},[t._v("\n            add to favorite\n          ")])])])]),t._v(" "),i("div",{staticClass:"similar-films"},[i("div",{staticClass:"similar-films__title"},[t._v("Similar films")]),t._v(" "),i("div",{staticClass:"similar-films__items"},[i("carousel",{attrs:{perPage:5}},t._l(t.similarMovies,function(t){return i("slide",{key:t.id},[i("div",{staticClass:"similar-films__item"},[i("Item",{attrs:{image:t.poster_path,title:t.title,id:t.id}})],1)])}))],1)])])])},staticRenderFns:[]};var M=i("VU/8")(w,L,!1,function(t){i("gne8")},null,null).exports,$={name:"GenrePage",components:{Item:l,Paginate:I.a},data:function(){return{films:[],page:1,pages:0}},props:{genreId:String},methods:{loadPage:function(t){var e=this;n.a.get("https://api.themoviedb.org/3/discover/movie?api_key=5fc1fc09c4439e9e384f1dce452ba65c&page="+t+"&with_genres="+this.genreId).then(function(t){e.films=t.data.results}).catch(function(t){console.log(t)}),window.scrollTo(0,0)}},mounted:function(){var t=this;n.a.get("https://api.themoviedb.org/3/discover/movie?api_key=5fc1fc09c4439e9e384f1dce452ba65c&page="+this.page+"&with_genres="+this.genreId).then(function(e){t.films=e.data.results,t.pages=e.data.total_pages}).catch(function(t){console.log(t)})}},H={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"genre-page content"},[i("div",{staticClass:"container"},[i("div",{staticClass:"films"},t._l(t.films,function(t){return i("div",{key:t.id,staticClass:"films__item"},[i("Item",{attrs:{image:t.poster_path,title:t.title,id:t.id}})],1)})),t._v(" "),i("paginate",{attrs:{"page-count":t.pages,"page-range":3,"margin-pages":3,"click-handler":t.loadPage,"prev-text":"Prev","next-text":"Next","container-class":"pagination","page-class":"pagination__item"},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],1)])},staticRenderFns:[]};var R=i("VU/8")($,H,!1,function(t){i("b2rC")},null,null).exports,U={name:"FavoriteList",components:{Item:l},data:function(){return{films:m.list}}},E={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"content"},[e("div",{staticClass:"container"},[this.films.length?e("div",{staticClass:"films"},this._l(this.films,function(t){return e("div",{key:t.id,staticClass:"films__item"},[e("Item",{attrs:{image:t.poster_path,title:t.title,id:t.id}})],1)})):e("div",[this._v("There is no favorite films...")])])])},staticRenderFns:[]};var V=i("VU/8")(U,E,!1,function(t){i("xHB1")},"data-v-21eb972e",null).exports;a.a.use(k.a);var T=new k.a({mode:"history",routes:[{path:"/",name:"MainPage",component:P},{path:"/favorite",name:"Favorite",component:V},{name:"movies",path:"/movies/:itemId",component:M,props:!0},{name:"genre",path:"/genre/:genreId",component:R,props:!0}]});a.a.config.productionTip=!1,new a.a({el:"#app",router:T,components:{App:b},template:"<App/>"})},ZxGP:function(t,e){},ad9l:function(t,e){},b2rC:function(t,e){},gne8:function(t,e){},kRLI:function(t,e){},xHB1:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.766ce49523c79e936dae.js.map